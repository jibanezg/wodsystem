/* ============================================
   VISUAL POLISH - Equipment Tab Look & Feel
   Focus: Colors, shadows, effects, borders, NOT layout
   ============================================ */

/* ======================
   1. REMOVE UGLY BORDERS & USE COLOR HIERARCHY
   Like Equipment: Header (blue) → Section (light gray) → Cards (white)
   ====================== */

/* Remove ugly borders from inputs */
.wod.sheet.actor input[type="text"],
.wod.sheet.actor input[type="number"],
.wod.sheet.actor select,
.wod.sheet.actor textarea {
    border: 1px solid #e0e0e0 !important;
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.03) !important;
}

.wod.sheet.actor input[type="text"]:focus,
.wod.sheet.actor input[type="number"]:focus,
.wod.sheet.actor select:focus,
.wod.sheet.actor textarea:focus {
    border-color: var(--wod-primary) !important;
    box-shadow: 0 0 0 2px rgba(var(--wod-primary-rgb), 0.1) !important;
    outline: none !important;
}

/* REMOVE ALL SECTION BORDERS - Use color contrast instead */
.wod.sheet.actor .section,
.wod.sheet.actor .attribute-section,
.wod.sheet.actor .ability-section,
.wod.sheet.actor .attribute-column,
.wod.sheet.actor .ability-column,
.wod.sheet.actor .talents-section,
.wod.sheet.actor .skills-section,
.wod.sheet.actor .knowledges-section,
.wod.sheet.actor .attributes-physical,
.wod.sheet.actor .attributes-social,
.wod.sheet.actor .attributes-mental,
.wod.sheet.actor .willpower-container,
.wod.sheet.actor .backgrounds-container,
.wod.sheet.actor .merits-container,
.wod.sheet.actor .flaws-container,
.wod.sheet.actor .virtues-container,
.wod.sheet.actor .attributes-grid,
.wod.sheet.actor .abilities-grid,
.wod.sheet.actor .health-section,
.wod.sheet.actor .health-sidebar,
.wod.sheet.actor .experience-section,
.wod.sheet.actor table,
.wod.sheet.actor .traits-table {
    border: none !important;
    box-shadow: none !important;
    overflow: visible !important;
}

/* Remove borders from table elements specifically */
.wod.sheet.actor table td,
.wod.sheet.actor table th,
.wod.sheet.actor table tr {
    border: none !important;
}

/* Add padding to content inside card sections (not header) - works for all creature types */
.wod.sheet.actor .willpower-section > *:not(h4),
.wod.sheet.actor .paradox-section > *:not(h4),
.wod.sheet.actor .enlightenment-section > *:not(h4),
.wod.sheet.actor .primal-energy-section > *:not(h4),
.wod.sheet.actor .virtues-section > *:not(h4),
.wod.sheet.actor .numina-section > *:not(h4),
.wod.sheet.actor .attributes-section > *:not(h2),
.wod.sheet.actor .abilities-section > *:not(h2),
.wod.sheet.actor .health-section > *:not(h2),
.wod.sheet.actor .spheres-section > *:not(h2),
.wod.sheet.actor .procedures-section > *:not(h2),
.wod.sheet.actor .devices-section > *:not(h2),
.wod.sheet.actor .enhancements-section > *:not(h2),
.wod.sheet.actor .experience-section > *:not(h3),
.wod.sheet.actor .active-effects-section > *:not(div),
.wod.sheet.actor .merits-section > *:not(h3),
.wod.sheet.actor .flaws-section > *:not(h3),
.wod.sheet.actor .secondary-ability-category > *:not(h4),
.wod.sheet.actor .biography-section > *:not(h3),
.wod.sheet.actor .bg-category-section > *:not(.bg-category-header),
.wod.sheet.actor .bio-fields-section > *:not(h3),
.wod.sheet.actor .backstory-section > *:not(h3),
.wod.sheet.actor .notes-section > *:not(h3),
.wod.sheet.actor .focus-section > *:not(h3) {
    padding: 12px !important;
}


/* Force remove ALL possible borders from attribute/ability sections */
.wod.sheet.actor .attributes-grid > *,
.wod.sheet.actor .abilities-grid > *,
.wod.sheet.actor .attributes-physical,
.wod.sheet.actor .attributes-social, 
.wod.sheet.actor .attributes-mental,
.wod.sheet.actor .abilities-talents,
.wod.sheet.actor .abilities-skills,
.wod.sheet.actor .abilities-knowledges {
    border: none !important;
    box-shadow: none !important;
}

/* Remove the ugly borders from attribute/ability categories - NO card effect here */
.wod.sheet.actor .attribute-category,
.wod.sheet.actor .ability-category {
    border: none !important;
    background: #f8f8f8 !important;
    border-radius: 6px !important;
    padding: 10px !important;
    box-shadow: none !important;
    margin-bottom: 10px !important;
}

/* Secondary ability categories - white card like merits/flaws */
.wod.sheet.actor .secondary-ability-category {
    background: #ffffff !important;
    border-radius: 6px !important;
    padding: 0 !important;
    border: none !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
    overflow: visible !important;
    margin-bottom: 10px !important;
}

/* Remove borders from advantage columns - NO card effect here */
.wod.sheet.actor .advantage-column {
    border: none !important;
    background: transparent !important;
    border-radius: 0 !important;
    padding: 10px !important;
    box-shadow: none !important;
}

/* Remove border from advantages-bottom */
.wod.sheet.actor .advantages-bottom {
    border-top: none !important;
}

/* Remove fieldset borders if they exist */
.wod.sheet.actor fieldset {
    border: none !important;
}

/* Remove any legend borders */
.wod.sheet.actor legend {
    border: none !important;
}

/* Grids inside sections - transparent or inherit to avoid double background */
.wod.sheet.actor .attributes-grid,
.wod.sheet.actor .abilities-grid,
.wod.sheet.actor .secondary-abilities-grid {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    overflow: visible !important;
}

/* Section headers inside these areas */
.wod.sheet.actor .attribute-column h4,
.wod.sheet.actor .ability-column h4 {
    background: linear-gradient(135deg, var(--wod-primary) 0%, var(--wod-primary-dark) 100%) !important;
    color: white !important;
    padding: 8px 12px !important;
    border-radius: 4px !important;
    text-align: center !important;
    font-weight: 600 !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
    margin: 0 0 10px 0 !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
    border: none !important;
}

/* Individual trait rows - pure white cards on gray background */
.wod.sheet.actor .trait-row,
.wod.sheet.actor .attribute-row,
.wod.sheet.actor .ability-row {
    background: #ffffff !important;
    border: none !important;
    border-radius: 4px !important;
    padding: 6px 8px !important;
    margin-bottom: 4px !important;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05) !important;
}

/* ======================
   2. COLORED LEFT BORDERS FOR "ITEMS"
   Backgrounds, Merits, Flaws, Secondary Abilities
   ====================== */

/* All "card" items - pure white (#ffffff) to contrast with section background (#f8f8f8) */
.wod.sheet.actor .background-item {
    background: #ffffff !important;
    border: none !important;
    border-left: 4px solid var(--wod-primary) !important;
    border-radius: 4px !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08) !important;
    padding: 6px 10px !important;
    margin-bottom: 6px !important;
}

.wod.sheet.actor .background-item.locked {
    border-left-color: #43A047 !important;
}

.wod.sheet.actor .merit-item {
    background: #ffffff !important;
    border: none !important;
    border-left: 4px solid #43A047 !important;
    border-radius: 4px !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08) !important;
    padding: 6px 10px !important;
    margin-bottom: 6px !important;
}

.wod.sheet.actor .flaw-item {
    background: #ffffff !important;
    border: none !important;
    border-left: 4px solid #E53935 !important;
    border-radius: 4px !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08) !important;
    padding: 6px 10px !important;
    margin-bottom: 6px !important;
}

.wod.sheet.actor .secondary-ability-item {
    background: #ffffff !important;
    border: none !important;
    border-left: 4px solid var(--wod-accent) !important;
    border-radius: 4px !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08) !important;
    padding: 6px 10px !important;
    margin-bottom: 6px !important;
}

.wod.sheet.actor .procedure-item {
    background: #ffffff !important;
    border: none !important;
    border-left: 4px solid var(--wod-primary) !important;
    border-radius: 4px !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08) !important;
    padding: 10px 12px !important;
    margin-bottom: 8px !important;
}

/* Sphere rows */
.wod.sheet.actor .sphere-row {
    background: #ffffff !important;
    border: none !important;
    border-left: 4px solid var(--wod-primary) !important;
    border-radius: 4px !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08) !important;
    padding: 6px 10px !important;
    margin-bottom: 6px !important;
}

/* ======================
   3. ROUNDED CORNERS
   Cards and buttons
   ====================== */

.wod.sheet.actor .background-item,
.wod.sheet.actor .merit-item,
.wod.sheet.actor .flaw-item,
.wod.sheet.actor .secondary-ability-item,
.wod.sheet.actor .procedure-item,
.wod.sheet.actor .sphere-row {
    border-radius: 4px !important;
}

/* Buttons */
.wod.sheet.actor button {
    border-radius: 4px !important;
}

/* ======================
   4. BUTTON COLORS & GRADIENTS
   Important buttons: gradient
   Category/tab buttons: flat color with hover
   ====================== */

/* UNIFIED ADD BUTTONS - Green circular style across all tabs */
.wod.sheet.actor .add-background,
.wod.sheet.actor .add-merit,
.wod.sheet.actor .add-flaw,
.wod.sheet.actor .add-secondary-ability,
.wod.sheet.actor .add-secondary-talent,
.wod.sheet.actor .add-secondary-skill,
.wod.sheet.actor .add-secondary-knowledge,
.wod.sheet.actor .add-procedure,
.wod.sheet.actor .add-sphere,
.wod.sheet.actor .add-device,
.wod.sheet.actor .add-enhancement,
.wod.sheet.actor .add-health-level,
.wod.sheet.actor .add-effect-btn,
.wod.sheet.actor .add-weapon,
.wod.sheet.actor .add-armor,
.wod.sheet.actor .add-gear,
.wod.sheet.actor .tab[data-tab="equipment"] .footer-add-btn,
.wod.sheet.actor .floating-add-bg,
.wod.sheet.actor.technocrat .add-procedure,
.wod.sheet.actor.technocrat .add-sphere,
.wod.sheet.actor.technocrat .add-device,
.wod.sheet.actor.technocrat .add-enhancement,
.wod.sheet.actor.technocrat .floating-add-bg,
.wod.sheet.actor.Mortal .floating-add-bg {
    background: linear-gradient(135deg, var(--wod-success, #28a745) 0%, #218838 100%) !important;
    color: white !important;
    border: none !important;
    border-radius: 50% !important;
    width: 28px !important;
    height: 28px !important;
    padding: 0 !important;
    font-size: 1.1em !important;
    font-weight: bold !important;
    line-height: 1 !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
    margin: 0 !important;
}

/* Ensure icons inside add buttons are perfectly centered */
.wod.sheet.actor .add-background i,
.wod.sheet.actor .add-merit i,
.wod.sheet.actor .add-flaw i,
.wod.sheet.actor .add-secondary-ability i,
.wod.sheet.actor .add-secondary-talent i,
.wod.sheet.actor .add-secondary-skill i,
.wod.sheet.actor .add-secondary-knowledge i,
.wod.sheet.actor .add-procedure i,
.wod.sheet.actor .add-sphere i,
.wod.sheet.actor .add-device i,
.wod.sheet.actor .add-enhancement i,
.wod.sheet.actor .add-health-level i,
.wod.sheet.actor .add-effect-btn i,
.wod.sheet.actor .add-weapon i,
.wod.sheet.actor .add-armor i,
.wod.sheet.actor .add-gear i,
.wod.sheet.actor .tab[data-tab="equipment"] .footer-add-btn i,
.wod.sheet.actor .floating-add-bg i {
    margin: 0 !important;
    padding: 0 !important;
    line-height: 1 !important;
    display: block !important;
}

.wod.sheet.actor .add-background:hover,
.wod.sheet.actor .add-merit:hover,
.wod.sheet.actor .add-flaw:hover,
.wod.sheet.actor .add-secondary-ability:hover,
.wod.sheet.actor .add-secondary-talent:hover,
.wod.sheet.actor .add-secondary-skill:hover,
.wod.sheet.actor .add-secondary-knowledge:hover,
.wod.sheet.actor .add-procedure:hover,
.wod.sheet.actor .add-sphere:hover,
.wod.sheet.actor .add-device:hover,
.wod.sheet.actor .add-enhancement:hover,
.wod.sheet.actor .add-health-level:hover,
.wod.sheet.actor .add-effect-btn:hover,
.wod.sheet.actor .add-weapon:hover,
.wod.sheet.actor .add-armor:hover,
.wod.sheet.actor .add-gear:hover,
.wod.sheet.actor .tab[data-tab="equipment"] .footer-add-btn:hover,
.wod.sheet.actor .floating-add-bg:hover,
.wod.sheet.actor.technocrat .add-procedure:hover,
.wod.sheet.actor.technocrat .add-sphere:hover,
.wod.sheet.actor.technocrat .add-device:hover,
.wod.sheet.actor.technocrat .add-enhancement:hover,
.wod.sheet.actor.technocrat .floating-add-bg:hover,
.wod.sheet.actor.Mortal .floating-add-bg:hover {
    transform: scale(1.1) !important;
    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3) !important;
}

/* Tab/Category style buttons - flat color with border on hover */
.wod.sheet.actor .backgrounds-prev-page,
.wod.sheet.actor .backgrounds-next-page,
.wod.sheet.actor .procedures-prev-page,
.wod.sheet.actor .procedures-next-page {
    background: rgba(255, 255, 255, 0.3) !important;
    color: var(--wod-primary) !important;
    border: 2px solid transparent !important;
    padding: 4px 10px !important;
    font-weight: 600 !important;
    transition: all 0.2s ease !important;
}

.wod.sheet.actor .backgrounds-prev-page:hover,
.wod.sheet.actor .backgrounds-next-page:hover,
.wod.sheet.actor .procedures-prev-page:hover,
.wod.sheet.actor .procedures-next-page:hover {
    border-color: white !important;
    background: white !important;
    color: var(--wod-primary) !important;
}

/* Delete buttons - minimalist red */
.wod.sheet.actor .delete-background,
.wod.sheet.actor .delete-merit,
.wod.sheet.actor .delete-flaw,
.wod.sheet.actor .delete-secondary-ability,
.wod.sheet.actor .delete-procedure {
    background: transparent !important;
    color: #E53935 !important;
    border: none !important;
    transition: all 0.2s ease !important;
}

.wod.sheet.actor .delete-background:hover,
.wod.sheet.actor .delete-merit:hover,
.wod.sheet.actor .delete-flaw:hover,
.wod.sheet.actor .delete-secondary-ability:hover,
.wod.sheet.actor .delete-procedure:hover {
    background: rgba(229, 57, 53, 0.1) !important;
    transform: scale(1.1) !important;
}

/* ======================
   5. MINIMALIST ICONS
   Style existing icons to be cleaner
   ====================== */

.wod.sheet.actor button i {
    font-size: 0.9em !important;
    opacity: 0.9 !important;
}

/* ======================
   6. WELL-CHOSEN BACKGROUND COLORS
   Headers, sections, cards for visual hierarchy
   ====================== */

/* Section headers - gradient like equipment header */
/* ALL main section headers - gradient based on creature type colors */
/* ALL section headers - unified gradient style for all creature types */
.wod.sheet.actor h2,
.wod.sheet.actor h3.section-header,
.wod.sheet.actor .section-title,
.wod.sheet.actor .attributes-section > h2,
.wod.sheet.actor .abilities-section > h2,
.wod.sheet.actor .health-section > h2,
.wod.sheet.actor .spheres-section > h2,
.wod.sheet.actor .procedures-section > h2,
.wod.sheet.actor .advantages-section > h2,
.wod.sheet.actor .backgrounds-section > h2,
.wod.sheet.actor .backgrounds-section > h4,
.wod.sheet.actor .willpower-section > h4,
.wod.sheet.actor .enlightenment-section > h4,
.wod.sheet.actor .primal-energy-section > h4,
.wod.sheet.actor .paradox-section > h4,
.wod.sheet.actor .experience-section > h3,
.wod.sheet.actor .active-effects-section > h4,
.wod.sheet.actor .merits-flaws-section > div > h3,
.wod.sheet.actor .merits-section > h3,
.wod.sheet.actor .flaws-section > h3,
.wod.sheet.actor .virtues-section > h4,
.wod.sheet.actor .numina-section > h4,
.wod.sheet.actor .biography-section h3,
.wod.sheet.actor .devices-section > h2,
.wod.sheet.actor .enhancements-section > h2,
.wod.sheet.actor .bg-category-header h3,
.wod.sheet.actor .bio-fields-section > h3,
.wod.sheet.actor .backstory-section > h3,
.wod.sheet.actor .notes-section > h3,
.wod.sheet.actor .focus-section > h3,
.wod.sheet.actor .secondary-ability-category h4 {
    background: linear-gradient(135deg, var(--wod-primary) 0%, var(--wod-primary-dark) 100%) !important;
    color: white !important;
    padding: 10px 16px !important;
    border-radius: 6px 6px 0 0 !important;
    text-align: center !important;
    font-weight: 600 !important;
    font-size: 0.75em !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15) !important;
    border: none !important;
    margin: 0 !important;
}

/* Category headers inside sections (Talents, Skills, Knowledges, Physical, Social, Mental) - subtle style */
.wod.sheet.actor .attribute-category h3,
.wod.sheet.actor .ability-category h3 {
    background: #e8e8e8 !important;
    color: #333 !important;
    padding: 6px 10px !important;
    border-radius: 4px !important;
    text-align: center !important;
    font-weight: 600 !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
    font-size: 0.85em !important;
    box-shadow: none !important;
    border: none !important;
    margin-bottom: 8px !important;
}

/* ============================================================
   WILLPOWER & PARADOX - SHARED STYLING (CLEAN, NO CONFLICTS)
   ============================================================ */

/* Tracks container - shared between willpower and paradox */
.wod.sheet.actor .willpower-tracks,
.wod.sheet.actor .paradox-tracks {
    display: flex;
    flex-direction: column;
    gap: 3px;
    padding: 5px;
}

/* Permanent tracks - shared between willpower and paradox */
.wod.sheet.actor .willpower-permanent,
.wod.sheet.actor .paradox-permanent {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.7em;
}

/* Temporary tracks - shared between willpower and paradox */
.wod.sheet.actor .willpower-temporary,
.wod.sheet.actor .paradox-temporary {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.7em;
}

/* Labels - shared between willpower and paradox */
.willpower-permanent label,
.willpower-temporary label,
.paradox-permanent label,
.paradox-temporary label {
    font-weight: bold;
    margin-right: 3px;
}

/* Temporary uses SQUARES instead of circles - shared */
.wod.sheet.actor .willpower-temporary .dot,
.wod.sheet.actor .paradox-temporary .dot {
    border-radius: 0;
}


/* Enlightenment section - center the dots */
.wod.sheet.actor .enlightenment-track {
    display: flex !important;
    justify-content: center !important;
    padding: 5px !important;
}

.wod.sheet.actor .enlightenment-track .dot-container {
    justify-content: center !important;
}

/* Parent containers - transparent, no card effect */
.wod.sheet.actor .attributes-abilities-section,
.wod.sheet.actor .secondary-abilities-section,
.wod.sheet.actor .health-sidebar {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    padding: 0 !important;
    overflow: visible !important;
    max-height: none !important;
}

/* Individual sections - CARD styling with shadow (works for ALL creature types) */
.wod.sheet.actor .advantages-section,
.wod.sheet.actor .backgrounds-section,
.wod.sheet.actor .merits-flaws-section,
.wod.sheet.actor .merits-section,
.wod.sheet.actor .flaws-section,
.wod.sheet.actor .spheres-section,
.wod.sheet.actor .procedures-section,
.wod.sheet.actor .health-section,
.wod.sheet.actor .experience-section,
.wod.sheet.actor .attributes-section,
.wod.sheet.actor .abilities-section,
.wod.sheet.actor .willpower-section,
.wod.sheet.actor .enlightenment-section,
.wod.sheet.actor .primal-energy-section,
.wod.sheet.actor .paradox-section,
.wod.sheet.actor .virtues-section,
.wod.sheet.actor .numina-section,
.wod.sheet.actor .devices-section,
.wod.sheet.actor .enhancements-section,
.wod.sheet.actor .biography-section,
.wod.sheet.actor .active-effects-section,
.wod.sheet.actor .bg-category-section,
.wod.sheet.actor .bio-fields-section,
.wod.sheet.actor .backstory-section,
.wod.sheet.actor .notes-section,
.wod.sheet.actor .focus-section {
    background: #ffffff !important;
    border-radius: 6px !important;
    padding: 0 !important;
    border: none !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
    overflow: visible !important;
    max-height: none !important;
    margin-bottom: 10px !important;
}

/* Headers within these sections - match equipment style */
.wod.sheet.actor .advantages-section h3,
.wod.sheet.actor .backgrounds-section h3,
.wod.sheet.actor .merits-flaws-section h3,
.wod.sheet.actor .spheres-section h3,
.wod.sheet.actor .procedures-section h3 {
    background: linear-gradient(135deg, var(--wod-primary) 0%, var(--wod-primary-dark) 100%) !important;
    color: white !important;
    padding: 8px 12px !important;
    border-radius: 4px !important;
    text-align: center !important;
    font-weight: 600 !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
    margin: 0 0 10px 0 !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
    border: none !important;
}

/* ======================
   7. HOVER EFFECTS - Animation & Shadow
   Move and shadow on hover like equipment
   ====================== */

.wod.sheet.actor .background-item,
.wod.sheet.actor .merit-item,
.wod.sheet.actor .flaw-item,
.wod.sheet.actor .secondary-ability-item,
.wod.sheet.actor .sphere-row {
    transition: all 0.2s ease !important;
}

.wod.sheet.actor .background-item:hover,
.wod.sheet.actor .merit-item:hover,
.wod.sheet.actor .flaw-item:hover,
.wod.sheet.actor .secondary-ability-item:hover,
.wod.sheet.actor .sphere-row:hover {
    transform: translateX(3px) !important;
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15) !important;
}

.wod.sheet.actor .procedure-item {
    transition: all 0.2s ease !important;
}

.wod.sheet.actor .procedure-item:hover {
    transform: translateX(3px) !important;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15) !important;
}

/* Trait rows (attributes/abilities) - subtle hover */
.wod.sheet.actor .trait-row,
.wod.sheet.actor .attribute-row,
.wod.sheet.actor .ability-row {
    transition: all 0.15s ease !important;
    border-left: 3px solid transparent !important;
    padding-left: 8px !important;
}

.wod.sheet.actor .trait-row:hover,
.wod.sheet.actor .attribute-row:hover,
.wod.sheet.actor .ability-row:hover {
    background: rgba(var(--wod-primary-rgb), 0.05) !important;
    border-left-color: var(--wod-primary) !important;
    transform: translateX(2px) !important;
}

/* ======================
   8. CATEGORY BUTTONS - Colored Border on Hover
   Like equipment type tabs
   ====================== */

.wod.sheet.actor .sheet-tabs .item {
    border: 2px solid transparent !important;
    transition: all 0.2s ease !important;
    border-radius: 4px 4px 0 0 !important;
}

.wod.sheet.actor .sheet-tabs .item:hover {
    border-color: var(--wod-primary) !important;
    border-bottom: none !important;
}

.wod.sheet.actor .sheet-tabs .item.active {
    border-color: var(--wod-primary) !important;
}

/* ======================
   ADDITIONAL POLISH
   Other elements that benefit from the same treatment
   ====================== */

/* Health boxes - pure white cards */
.wod.sheet.actor .health-level {
    background: #ffffff !important;
    border: none !important;
    border-left: 3px solid #999 !important;
    border-radius: 4px !important;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05) !important;
    transition: all 0.15s ease !important;
    padding: 4px 8px !important;
    margin-bottom: 3px !important;
}

.wod.sheet.actor .health-level.marked {
    border-left-color: #E53935 !important;
    box-shadow: 0 2px 4px rgba(229, 57, 53, 0.2) !important;
}

.wod.sheet.actor .health-level:hover {
    transform: translateX(2px) !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

/* Health section - card with shadow (same as others) */
.wod.sheet.actor .health-section {
    background: #ffffff !important;
    border: none !important;
    border-radius: 6px !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
    padding: 12px !important;
    overflow: visible !important;
    max-height: none !important;
    margin-bottom: 10px !important;
}

/* Health sidebar container - transparent, no card effect (just container) */
.wod.sheet.actor .health-sidebar {
    overflow: visible !important;
    max-height: none !important;
    background: transparent !important;
    box-shadow: none !important;
    border: none !important;
    padding: 0 !important;
}

/* Virtue rows - pure white cards */
.wod.sheet.actor .virtue-row {
    background: #ffffff !important;
    border: none !important;
    border-left: 3px solid var(--wod-accent) !important;
    border-radius: 4px !important;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05) !important;
    transition: all 0.15s ease !important;
    padding: 6px 10px !important;
    margin-bottom: 4px !important;
}

.wod.sheet.actor .virtue-row:hover {
    transform: translateX(2px) !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

/* Humanity/Torment containers - pure white cards */
.wod.sheet.actor .humanity-container,
.wod.sheet.actor .torment-container {
    background: #ffffff !important;
    border: none !important;
    border-left: 4px solid var(--wod-primary) !important;
    border-radius: 4px !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08) !important;
    padding: 12px !important;
}

/* Experience section - card with shadow (no special left border, same as others) */
.wod.sheet.actor .experience-section {
    background: #ffffff !important;
    border: none !important;
    border-radius: 6px !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
    padding: 12px !important;
    overflow: visible !important;
    max-height: none !important;
    margin-bottom: 10px !important;
}

/* Backgrounds expanded - remove borders, apply card style */
.wod.sheet.actor .bg-category-section,
.wod.sheet.actor.technocrat .bg-category-section,
.wod.sheet.actor.Mortal .bg-category-section {
    border: none !important;
    margin-bottom: 10px !important;
}

/* Background category header - remove double background issue */
.wod.sheet.actor .bg-category-header,
.wod.sheet.actor.technocrat .bg-category-header,
.wod.sheet.actor.Mortal .bg-category-header {
    background: none !important;
    padding: 0 !important;
    margin: 0 !important;
}

.wod.sheet.actor .bg-category-header:hover,
.wod.sheet.actor.technocrat .bg-category-header:hover,
.wod.sheet.actor.Mortal .bg-category-header:hover {
    background: none !important;
}

/* Background mini cards - no borders, clean card style like Equipment */
.wod.sheet.actor .bg-card-mini,
.wod.sheet.actor.technocrat .bg-card-mini,
.wod.sheet.actor.Mortal .bg-card-mini {
    background: #ffffff !important;
    border: none !important;
    border-left: 3px solid var(--wod-primary) !important;
    border-radius: 4px !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08) !important;
    padding: 8px !important;
    transition: all 0.2s ease !important;
}

.wod.sheet.actor .bg-card-mini:hover,
.wod.sheet.actor.technocrat .bg-card-mini:hover,
.wod.sheet.actor.Mortal .bg-card-mini:hover {
    transform: translateX(3px) !important;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.12) !important;
    border-left-width: 4px !important;
}

/* Background card header - no border */
.wod.sheet.actor .bg-card-mini-header,
.wod.sheet.actor.technocrat .bg-card-mini-header,
.wod.sheet.actor.Mortal .bg-card-mini-header {
    border-bottom: none !important;
}

/* Floating add background button - now unified with all add buttons above */

/* Health Damage Buttons - Very small, compact, color-coded */
.wod.sheet.actor .health-damage-buttons {
    display: flex;
    gap: 3px;
    margin-bottom: 6px;
    justify-content: center;
}

.wod.sheet.actor .damage-btn {
    padding: 2px 5px;
    font-size: 0.55em;
    font-weight: 600;
    border: none;
    border-radius: 2px;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 2px;
    text-transform: uppercase;
    letter-spacing: 0.2px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);
}

.wod.sheet.actor .damage-btn i {
    font-size: 0.85em;
}

.wod.sheet.actor .bashing-btn {
    background: linear-gradient(135deg, #6c757d 0%, #5a6268 100%);
    color: white;
}

.wod.sheet.actor .bashing-btn:hover {
    background: linear-gradient(135deg, #5a6268 0%, #495057 100%);
    transform: translateY(-1px);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}

.wod.sheet.actor .lethal-btn {
    background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
    color: white;
}

.wod.sheet.actor .lethal-btn:hover {
    background: linear-gradient(135deg, #c82333 0%, #bd2130 100%);
    transform: translateY(-1px);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}

.wod.sheet.actor .aggravated-btn {
    background: linear-gradient(135deg, #343a40 0%, #23272b 100%);
    color: white;
}

.wod.sheet.actor .aggravated-btn:hover {
    background: linear-gradient(135deg, #23272b 0%, #1d2124 100%);
    transform: translateY(-1px);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}
    padding: 4px 8px !important;
    margin-bottom: 3px !important;
}

/* Dots - subtle polish */
.wod.sheet.actor .dot {
    border: 1px solid #bbb !important;
    box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05) !important;
    transition: all 0.15s ease !important;
}

.wod.sheet.actor .dot:hover {
    border-color: var(--wod-primary) !important;
    transform: scale(1.15) !important;
}

.wod.sheet.actor .dot.filled {
    border-color: var(--wod-primary-dark) !important;
    box-shadow: 0 0 4px rgba(var(--wod-primary-rgb), 0.4) !important;
}

/* Lock button styling */
.wod.sheet.actor .lock-background {
    color: #999 !important;
    transition: all 0.2s ease !important;
    background: transparent !important;
    border: none !important;
}

.wod.sheet.actor .lock-background:hover {
    color: #43A047 !important;
    transform: scale(1.15) !important;
}

.wod.sheet.actor .lock-background.locked {
    color: #43A047 !important;
}

/* Active Effects section - card with shadow (same as others) */
.wod.sheet.actor .active-effects-section {
    background: #ffffff !important;
    border: none !important;
    border-radius: 6px !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
    padding: 12px !important;
}

/* When Effects section is in its own tab, give it more breathing room */
.wod.sheet.actor .tab[data-tab="effects"] .active-effects-section {
    max-width: 100% !important;
    padding: 16px !important;
}

/* Effects preview in tab - use grid layout to take advantage of horizontal space */
.wod.sheet.actor .tab[data-tab="effects"] .effects-preview {
    display: grid !important;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)) !important;
    gap: 8px !important;
}

/* Effect items in tab - slightly larger and more detailed */
.wod.sheet.actor .tab[data-tab="effects"] .effect-preview-item {
    padding: 10px 12px !important;
}

.wod.sheet.actor .tab[data-tab="effects"] .effect-name-short {
    font-size: 0.85em !important;
}
    overflow: visible !important;
    max-height: none !important;
    margin-bottom: 10px !important;
}

/* Status Effects controls - centered add button */
.wod.sheet.actor .effects-controls {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: 8px;
    padding: 6px;
}

/* Add Effect button - unified with all add buttons above (styling inherited) */

/* Effects preview container */
.wod.sheet.actor .effects-preview {
    display: flex !important;
    flex-direction: column !important;
    gap: 4px !important;
}

.wod.sheet.actor .effect-preview-item {
    background: #f8f8f8 !important;
    border: none !important;
    border-left: 3px solid var(--wod-primary) !important;
    border-radius: 4px !important;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05) !important;
    transition: all 0.15s ease !important;
    padding: 6px 8px !important;
    margin-bottom: 4px !important;
    display: flex !important;
    align-items: center !important;
    gap: 8px !important;
    cursor: pointer !important;
}

.wod.sheet.actor .effect-preview-item:hover {
    transform: translateX(2px) !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
    background: #ffffff !important;
}

/* ST-locked effects (players can't edit) */
.wod.sheet.actor .effect-preview-item.st-effect-locked {
    cursor: default !important;
    opacity: 0.85 !important;
}

.wod.sheet.actor .effect-preview-item.st-effect-locked:hover {
    transform: none !important;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05) !important;
    background: #f8f8f8 !important;
}

/* Secondary ability inputs as trait labels (rollable) */
.wod.sheet.actor input.ability-name-input.trait-label {
    cursor: pointer !important;
    background: transparent !important;
    border: none !important;
    font-weight: 500 !important;
    padding: 2px 4px !important;
    color: #333 !important; /* Dark text when NOT selectable */
    transition: all 0.2s ease !important;
}

.wod.sheet.actor input.ability-name-input.trait-label:hover:not(.selectable) {
    background: rgba(70, 130, 180, 0.1) !important;
}

/* Pool selection mode - ALL selectable elements (labels AND inputs) */
.pool-selection-active .trait-label.selectable,
.pool-selection-active label.trait-label.selectable,
.pool-selection-active input.ability-name-input.trait-label.selectable,
.pool-selection-active input.ability-name-input.selectable {
    color: white !important; /* White text on colored background */
    font-weight: bold !important;
    padding: 6px 10px !important;
    border: 2px solid transparent !important;
    border-radius: 4px !important;
    animation: pulse 1.5s infinite !important;
    cursor: pointer !important;
    box-sizing: border-box !important;
    text-align: left !important;
    display: inline-block !important;
}

/* Talents - Yellow/Gold (both labels and inputs) */
.pool-selection-active .trait-label.selectable[data-category="talents"],
.pool-selection-active label.trait-label.selectable[data-category="talents"],
.pool-selection-active input.ability-name-input.trait-label.selectable[data-category="talents"],
.pool-selection-active input.ability-name-input.selectable[data-category="talents"] {
    background: #F39C12 !important;
    background-color: #F39C12 !important;
    border-color: #D68910 !important;
    box-shadow: 0 0 15px #F39C12 !important;
}

/* Skills - Blue (both labels and inputs) */
.pool-selection-active .trait-label.selectable[data-category="skills"],
.pool-selection-active label.trait-label.selectable[data-category="skills"],
.pool-selection-active input.ability-name-input.trait-label.selectable[data-category="skills"],
.pool-selection-active input.ability-name-input.selectable[data-category="skills"] {
    background: #3498DB !important;
    background-color: #3498DB !important;
    border-color: #2980B9 !important;
    box-shadow: 0 0 15px #3498DB !important;
}

/* Knowledges - Purple (both labels and inputs) */
.pool-selection-active .trait-label.selectable[data-category="knowledges"],
.pool-selection-active label.trait-label.selectable[data-category="knowledges"],
.pool-selection-active input.ability-name-input.trait-label.selectable[data-category="knowledges"],
.pool-selection-active input.ability-name-input.selectable[data-category="knowledges"] {
    background: #9B59B6 !important;
    background-color: #9B59B6 !important;
    border-color: #8E44AD !important;
    box-shadow: 0 0 15px #9B59B6 !important;
}

/* Super aggressive override for secondary abilities in pool selection */
.wod.sheet.actor.pool-selection-active input.ability-name-input.trait-label.selectable[data-category="talents"],
.wod.sheet.actor.pool-selection-active .secondary-ability input.selectable[data-category="talents"] {
    background: #F39C12 !important;
    background-color: #F39C12 !important;
    color: white !important;
    border: 2px solid #D68910 !important;
    box-shadow: 0 0 15px #F39C12, inset 0 0 0 100px #F39C12 !important;
}

.wod.sheet.actor.pool-selection-active input.ability-name-input.trait-label.selectable[data-category="skills"],
.wod.sheet.actor.pool-selection-active .secondary-ability input.selectable[data-category="skills"] {
    background: #3498DB !important;
    background-color: #3498DB !important;
    color: white !important;
    border: 2px solid #2980B9 !important;
    box-shadow: 0 0 15px #3498DB, inset 0 0 0 100px #3498DB !important;
}

.wod.sheet.actor.pool-selection-active input.ability-name-input.trait-label.selectable[data-category="knowledges"],
.wod.sheet.actor.pool-selection-active .secondary-ability input.selectable[data-category="knowledges"] {
    background: #9B59B6 !important;
    background-color: #9B59B6 !important;
    color: white !important;
    border: 2px solid #8E44AD !important;
    box-shadow: 0 0 15px #9B59B6, inset 0 0 0 100px #9B59B6 !important;
}

/* Super aggressive override for attributes in pool selection (when secondary ability is clicked first) */
.wod.sheet.actor.pool-selection-active .trait-label.selectable[data-category="attribute"][data-attribute-type="physical"],
.wod.sheet.actor.pool-selection-active label.trait-label.selectable[data-attribute-type="physical"] {
    background: #E74C3C !important;
    background-color: #E74C3C !important;
    color: white !important;
    border: 2px solid #C0392B !important;
    box-shadow: 0 0 15px #E74C3C !important;
    padding: 4px 8px !important;
    border-radius: 4px !important;
    font-weight: bold !important;
    animation: pulse 1.5s infinite !important;
}

.wod.sheet.actor.pool-selection-active .trait-label.selectable[data-category="attribute"][data-attribute-type="social"],
.wod.sheet.actor.pool-selection-active label.trait-label.selectable[data-attribute-type="social"] {
    background: #2ECC71 !important;
    background-color: #2ECC71 !important;
    color: white !important;
    border: 2px solid #27AE60 !important;
    box-shadow: 0 0 15px #2ECC71 !important;
    padding: 4px 8px !important;
    border-radius: 4px !important;
    font-weight: bold !important;
    animation: pulse 1.5s infinite !important;
}

.wod.sheet.actor.pool-selection-active .trait-label.selectable[data-category="attribute"][data-attribute-type="mental"],
.wod.sheet.actor.pool-selection-active label.trait-label.selectable[data-attribute-type="mental"] {
    background: #3498DB !important;
    background-color: #3498DB !important;
    color: white !important;
    border: 2px solid #2980B9 !important;
    box-shadow: 0 0 15px #3498DB !important;
    padding: 4px 8px !important;
    border-radius: 4px !important;
    font-weight: bold !important;
    animation: pulse 1.5s infinite !important;
}

.wod.sheet.actor .effect-icon-small {
    width: 20px !important;
    height: 20px !important;
    min-width: 20px !important;
    min-height: 20px !important;
    border-radius: 3px !important;
    flex: 0 0 auto !important;
    object-fit: contain !important;
    display: block !important;
    border: 1px solid rgba(0, 0, 0, 0.25) !important;
    background: linear-gradient(135deg, #5a6a7a 0%, #4a5a6a 100%) !important;
    opacity: 1 !important;
    visibility: visible !important;
    padding: 2px !important;
    box-sizing: border-box !important;
}

/* Debug: Ensure img tags are shown */
.wod.sheet.actor .effect-preview-item img {
    opacity: 1 !important;
    visibility: visible !important;
    display: block !important;
}

/* Ensure no checkboxes appear in effect preview */
.wod.sheet.actor .effect-preview-item input[type="checkbox"] {
    display: none !important;
}

.wod.sheet.actor .effect-name-short {
    flex: 1 !important;
    font-size: 0.75em !important;
    font-weight: 500 !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
}

.wod.sheet.actor .effect-type-indicator {
    flex: 0 0 auto !important;
    width: 20px !important;
    height: 20px !important;
    border-radius: 50% !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    font-size: 0.65em !important;
    font-weight: 700 !important;
    line-height: 1 !important;
}

.wod.sheet.actor .effect-type-indicator.player {
    background: linear-gradient(135deg, #28a745 0%, #218838 100%) !important;
    color: white !important;
}

.wod.sheet.actor .effect-type-indicator.st {
    background: linear-gradient(135deg, #ffc107 0%, #ff9800 100%) !important;
    color: #333 !important;
}

.wod.sheet.actor .delete-effect-preview-item {
    flex: 0 0 auto !important;
    width: 20px !important;
    height: 20px !important;
    padding: 0 !important;
    background: transparent !important;
    color: #dc3545 !important;
    border: none !important;
    border-radius: 50% !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
}

.wod.sheet.actor .delete-effect-preview-item:hover {
    background: rgba(220, 53, 69, 0.1) !important;
    transform: scale(1.15) !important;
    color: #c82333 !important;
}

.wod.sheet.actor .delete-effect-preview-item i {
    font-size: 0.7em !important;
    line-height: 1 !important;
    margin: 0 !important;
    padding: 0 !important;
}

.wod.sheet.actor .effects-empty {
    text-align: center !important;
    padding: 12px 8px !important;
    font-style: italic !important;
    color: #999 !important;
    font-size: 0.75em !important;
}

.wod.sheet.actor .effects-empty p {
    margin: 0 !important;
}

