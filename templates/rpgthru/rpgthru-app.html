<div class="rpgthru-app">
    <div class="rpgthru-header">
        <h1>RPGThru Integration</h1>
        <p>Connect to DriveThruRPG to access your digital library</p>
    </div>

    <div class="rpgthru-content">
        {{#if connected}}
            <div class="connected-state">
                <div class="status-indicator connected">
                    <i class="fas fa-check-circle"></i>
                    <span>Connected to DriveThruRPG</span>
                </div>
                
                <div class="action-buttons">
                    <button class="open-drivethru">
                        <i class="fas fa-external-link-alt"></i>
                        Open DriveThruRPG
                    </button>
                    
                    <button class="refresh-library">
                        <i class="fas fa-sync-alt"></i>
                        Refresh Library
                    </button>
                    
                    <button class="disconnect-btn">
                        <i class="fas fa-unlink"></i>
                        Disconnect
                    </button>
                </div>

                <div class="library-section">
                    <h3>Your Library</h3>
                    {{#if userLibrary.length}}
                        <div class="library-items">
                            {{#each userLibrary}}
                                <div class="library-item">
                                    <h4>{{title}}</h4>
                                    <p>{{description}}</p>
                                </div>
                            {{/each}}
                        </div>
                    {{else}}
                        <div class="empty-library">
                            <p>No books found in your library.</p>
                            <p>Click "Open DriveThruRPG" to browse and purchase books.</p>
                        </div>
                    {{/if}}
                </div>
            </div>
        {{else}}
            <div class="disconnected-state">
                <div class="status-indicator disconnected">
                    <i class="fas fa-times-circle"></i>
                    <span>Not connected to DriveThruRPG</span>
                </div>
                
                <div class="connect-section">
                    <p>Connect to DriveThruRPG to access your digital library and download books directly into your World of Darkness game.</p>
                    
                    <button class="connect-btn">
                        <i class="fas fa-link"></i>
                        Connect to DriveThruRPG
                    </button>
                </div>
            </div>
        {{/if}}
    </div>
</div> 